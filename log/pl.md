Кратко про логику высказываний и некоторые исчисления для вывода логических выражений.

TODO: написать про предикатную.

# 1. Формальный язык

***Символ*** (***буква***) ***языка*** - знак, рассматривающийся как единое целое.
Понятие является исходным и не определяется.

Про любые два символа (обозначим как $a_1$ и $a_2$) можно сказать:
одинаковы ли они (записывается: $a_1 = a_2$) или различны.

***Алфавит*** - произвольное непустое конечное множество символов.

***Слово*** в алфавите $\Sigma$ - конечная цепочка записанных подряд символов из $\Sigma$.

***Длина слова*** - число символов в слове.

***Пустое слово*** - слово, не содержащее ни одного символа.

Два слова $a_1,...,a_m$ и $b_1,...,b_n$, где $a_1,...,a_m,b_1,...,b_n$ - символы некоторого алфавита,
***равны*** (***совпадают*** или ***одинаковы***) (записывается: $a_1,...,a_m = b_1,...,b_n$),
если $m=n$ и для каждого $i=1,...,m$ $a_i=b_i$.

Два слова ***неравны***, если неверно, что они равны.

***Конкатенация слов*** $\alpha$ и $\beta$ - слово, получаемое приписыванием $\beta$ к $\alpha$ 
($\alpha\beta$).

$\alpha$ - ***подслово*** $\beta$ ($\alpha$ ***входит в*** $\beta$), если найдутся такие слова
 $\gamma$ и $\delta$, что $\beta = \gamma\alpha\delta$.
Если при этом длина $\gamma$ равна $k$, то имеется ***$k$-вхождение*** $\alpha$ в $\beta$.

Пусть имеется $k$-вхождение слова $\alpha$ в $\beta$, т.е. $\beta=\gamma\alpha\delta$.
Тогда результатом ***подстановки*** слова $\chi$ вместо $k$-вхождения назовём слово
$\gamma\chi\delta$.

$\Sigma^*$ - множество всех слова в алфавите $\Sigma$ (пустое слово также входит в это множество).

***Формальный язык*** в алфавите $\Sigma$ - какое угодно подмножество $\Sigma^*$.

# 2. Логика высказываний
## 2.1. Язык

Пусть $Vars$ - язык $\{V|V, V||V, V|||V, ...\}$ в алфавите $\{V, |\}$.

Каждое слово $Vars$ - ***пропозициональная переменная*** (далее просто переменная).

Зададим язык $PL$ в алфавите $\{V, |, \textbf{F}, \textbf{T}, (, ), \neg, \lor, \land, \supset\}$:

1. Любая переменная - слово $PL$.
2. $\textbf{T}$ и $\textbf{F}$ (***истинностные константы***) - слова $PL$.
3. Если $A$ - слово $PL$, то $\neg A$ - слово $PL$.
4. Если $A$ и $B$ - слова $PL$, то $(A \lor B)$, $(A \land B)$, $(A \supset B)$ - слова $PL$.

$PL$ - множество всех ***пропозициональных формул*** (далее просто формул) и называется ***языком логики высказываний***
(или ***пропозициональным языком***).

$\neg$, $\lor$, $\land$, $\supset$ - ***логические связки***.

$\neg$ - ***унарная логическая связка***.

$\lor$, $\land$, $\supset$ - ***бинарные логические связки*** (вместе далее обозначаются как $\odot$ или $\oplus$).

В дальнейшем для доказательств будет полезно использовать индукцию по построению множества $PL$:

1. База индукции: доказывается, что для любого слово $A$,
   являющееся переменной или истинностной константой $\textbf{T}$, $\textbf{F}$,
   верно $\mathcal{P}[A]$.
2. Индукционный переход для $\neg$: предполагая, что $\mathcal{P}[A]$, доказывается, что $\mathcal{P}[\neg A]$.
3. Индукционный переход для $\odot$: предполагая, что $\mathcal{P}[A]$ и $\mathcal{P}[B]$,
   доказывается, что $\mathcal{P}[A \odot B]$.

Таким образом доказывается, что $\mathcal{P}[A]$ верно для любой формулы $A$.

Определение эквивалентности: $A \equiv B \triangleq ((A \supset B) \land (B \supset A))$,
где $A$ и $B$ - произвольные формулы.

Исключительно для упрощения записи используются правила опускания скобок (при этом с точки зрения формального языка
упрощенная запись не является верной формулой):

1. '$(A \odot B)$' = '$A \odot B$'.
2. '$((A \odot B) \odot C)$' = '$A \odot B \odot C$'.
3. Пусть приоритет $\odot$ выше чем $\oplus$ (в порядке строгого убывания: $\land$, $\lor$, $\supset$, $\equiv$).
   Тогда '$((A \odot B) \oplus C)$' = '$A \odot B \oplus C$' и '$(A \oplus (B \odot C))$' = '$A \oplus B \odot C$'.

## 2.2. Семантика языка логики высказываний

$\mathbb{B} = \{0, 1\}$ - множество ***булевских значений*** (или ***истинностных значений***).
При этом 0 называется ***ложным***, а 1 - ***истинным***.

***Интерпретация*** (***модель***) языка $PL$ - отображение $M:Vars \rightarrow \mathbb{B}$,
которое каждой переменной $p$ сопоставляет булевское значение $M(p)$.

Пусть $\alpha$ и $\beta$ - булевские значения формул $A$ и $B$ соответственно.
Зададим как вычисляются значения формул $\neg A$, $(A \land B)$, $(A \lor B)$, $(A \supset B)$,
определив одноместную функцию $F_{\neg}$ из $\mathbb{B}$ в $\mathbb{B}$
и двухместные функции $F_{\lor}(\alpha, \beta)$, $F_{\land}(\alpha, \beta)$, $F_{\supset}(\alpha, \beta)$
из $\mathbb{B}^2$ в $\mathbb{B}$ :

| $\alpha$ | $F_{\neg}(\alpha)$ |
| -------- | ------------------ |
| 0        | 1                  |
| 1        | 0                  |

| $\alpha$ | $\beta$ | $F_{\lor}(\alpha, \beta)$ | $F_{\land}(\alpha, \beta)$ | $F_{\supset}(\alpha, \beta)$ |
| -------- | ------- | ------------------------- | -------------------------- | ---------------------------- |
| 0        | 0       | 0                         | 0                          | 1                            |
| 0        | 1       | 1                         | 0                          | 1                            |
| 1        | 0       | 1                         | 0                          | 0                            |
| 1        | 1       | 1                         | 1                          | 1                            |

Пусть $M$ - какая угодно интерпретация $PL$. $|A|_M$ называется ***истинностным значением*** любой формулы $A$
(далее $|A|$ если из контекста очевидно, какая интерпретация рассматривается).
Зададим $|A|_M$ индуктивно:

1. Если $A$ - переменная, то $|A|_M = M(A)$.
2. Если $A$ - $\textbf{T}$, то $|A|_M = 1$.
3. Если $A$ - $\textbf{F}$, то $|A|_M = 0$.
4. Если $A$ - формула вида $\neg B$, где $B$ - формула, то $|A|_M = F_{\neg}(|B|_M)$.
5. Если $A$ - формула вида $(B \odot C)$, где $B$ и $C$ - формулы, то $|A|_M = F_{\odot}(|B|_M, |C|_M)$.

Если $|A|_M$ = 1, то формула ***истинна в интерпретации*** $M$ (записывается: $M \models A$).

Иначе если $|A|_M = 0$ формула ***ложна в интерпретации*** $M$ (записывается: $M \not\models A$).

***Общезначимая формула*** (***тождественно истинная***, ***тавтология***, ***логический закон***) - формула,
истинная в любой интерпретации (записывается: $\models A$).

***Необщезначимая формула*** - формула, не являющаяся общезначимой (записывается: $\not\models A$).

***Невыполнимая формула*** - формула, ложная в любой интерпретации.

***Выполнимая формула*** - формула, не являющаяся невыполнимой.

Некоторые законы логики:

- Законы коммутативности и ассоциативности конъюнкции:
    - $(p \land q) \equiv (q \land p)$,
    - $((p \land q) \land r) \equiv (p \land (q \land r))$.
- Законы коммутативности и ассоциативности дизъюнкции:
    - $(p \lor q) \equiv (q \lor p)$,
    - $((p \lor q) \lor r) \equiv (p \lor (q \lor r))$.
- Законы дистрибутивности:
    - $(p \land (q \lor r)) \equiv ((p \land q) \lor (p \land r))$,
    - $(p \lor (q \land r)) \equiv ((p \lor q) \land (p \lor r))$.
- Законы поглощения:
    - $(p \lor (p \land q)) \equiv p$,
    - $(p \land (p \lor q)) \equiv p$.
- Законы Де Моргана:
    - $\neg(p \land q) \equiv (\neg p \lor \neg q)$,
    - $\neg(p \lor q) \equiv (\neg p \land \neg q)$.
- Закон исключённого третьего:
    - $p \lor \neg p$.
- Закон двойного отрицания:
    - $p \equiv \neg\neg p$.
- Закон контрапозиции:
    - $(p \supset q) \equiv (\neg q \supset \neg p)$.
- Отрицание посылки:
    - $\neg p \supset (p \supset q)$.
- Выражение импликации через отрицание и дизъюнкцию:
    - $(p \supset q) \equiv (\neg p \lor q)$.

Формула $A$ - ***логическое следствие*** множества формул $\Gamma$ (обозначается: $\Gamma \models A$),
если для любой интерпретации $M$ выполняется: если для любой формулы $G \in \Gamma$ верно $M \models G$,
то $M \models A$.

*Примеры*:
> $p \land q, r \models p \land r$ и $p, p \supset q \models q$, но $p \not\models p \land q$.

$\blacktriangleright$ **Теорема 1** о логическом следствии:
> Пусть $G_1,...,G_n,A$ - формулы.
> Тогда $G1_,...,G_n \models A$, если и только если $\models G_1 \land ... \land G_n \supset A$.

Формулы $A$ и $B$ - ***равносильны***, если для всякой интерпретации $M$ выполняется: $|A|_M = |B|_M$
(обозначается $A \sim B$).

$A$ и $B$ равносильны, если и только если $A \models B$ и $B \models A$.

Пусть $p_1,...p_n$ - попарно различные переменные, $A,B_1,...B_n$ - формулы, $\theta \triangleq \{B_1/p_1,...,B_n/p_n\}$.
Через $A\theta$ обозначим результат одновременной замены всех вхождений $p_1,...,p_n$ в $A$ на $B_1,...,B_n$.

Индуктивное определение $A\theta$:

1. $p_i\theta \triangleq B_i$ для любого $i=1,...,n$;
2. $\textbf{T}\theta \triangleq \textbf{T}$ и $\textbf{F}\theta \triangleq \textbf{F}$;
3. $q\theta \triangleq q$, если $q$ - переменная, отличная от $p_1,...p_n$;
4. $A\theta \triangleq \neg C\theta$, если $A$ имеет вид $\neg C$, где $C$ - формула;
5. $A\theta \triangleq (B\theta \odot C\theta)$, если $A$ имеет вид $(B \odot C)$, где $B$ и $C$ - формулы.

$\blacktriangleright$ **Теорема 2** о подстановке формул в тавтологию:
> Пусть $p_1,...,p_n$ - попарно различные переменные, $A,B_1,...,B_n$ - формулы,
> $\theta \triangleq \{B_1/p_1,...,B_n/p_n\}$.
> Тогда если $\models A$, то $\models A\theta$.

$\blacktriangleright$ **Следствие 3**:
> Пусть $p_1,...,p_n$ - попарно различные переменные, $A,B_1,...,B_n,C$ - формулы,
> $\theta \triangleq \{B_1/p_1,...,B_n/p_n\}$.
> Тогда если $A \sim C$, то $A\theta \sim C\theta$.

$\blacktriangleright$ **Теорема 4** о семантически эквивалентной замене:
> Пусть $A, B, B'$ - формулы, $A'$ - результат замены некоторого вхождение $B$ в $A$ на $B'$.
> Тогда если $B \sim B'$, то $A \sim A'$.

Эти теоремы доказываются очевидным образом через мат. индукцию.

# 3. Исчисление

Пусть $\Sigma$ - произвольный алфавит, $L$ - произвольный язык в алфавите $\Sigma$.
Будем говорить, что задано ***исчисление (дедуктивная система) $\mathcal{C}$***,
если задано множество $Ax$ слов $L$ и конечное множество $R$, каждый элемент которого является
не менее чем двухместным отношением на $L$.
Каждый элемент $Ax$ - ***аксиома исчисления $\mathcal{C}$***,
а каждый элемент $R$ - ***правило вывода исчисления $\mathcal{C}$***.
$\Sigma$ - ***алфавит исчисления $\mathcal{C}$***, $L$ - ***язык исчисления $\mathcal{C}$***.

Каждое слово $\alpha _i$ - ***посылка***, а $\alpha$ - ***заключение*** правила $\mathcal{R}$
($\mathcal{R}$ - $(n+1)$-местное отношение), если $\langle \alpha _1,...,\alpha _n,\alpha \rangle \in \mathcal{R}$,
где $n \in \mathbb{N}$, $i \in \mathbb{N}$ и $i \leq n$.

$n$-посылочное правило вывода обозначается (где $A_1,...,A_n$ задают общий вид посылки,
$A$ - общий вид заключения, ';' служит разделителем и не входит в алфавит): 
$$
A_1;...;A_n
\over
A
$$

***Выводом (доказательством) в исчислении $\mathcal{C}$*** называется конечная последовательность слов
$\alpha _1,...,\alpha _k$, в которой каждое $\alpha _i$ ($i=1,...,k$) является аксиомой исчисления $\mathcal{C}$
или получено по правилу вывода исчисления $\mathcal{C}$ из слов $\alpha _{i_1},...,\alpha _{i_n}$,
где каждое $i_1,...,i_n$ меньше чем $i$. $k$ называется ***длиной вывода***.

Определение вывода в исчислении $\mathcal{C}$ можно сформулировать и так: конечная последовательность слов,
каждое из которых является аксиомой исчисления $\mathcal{C}$ или получено по некоторому правилу исчисления
$\mathcal{C}$ из предшествующих слов этой последовательности.

***Вывод слова $\alpha$ в исчислении $\mathcal{C}$*** - вывод $\alpha _1,...,\alpha _k$ в этом исчислении,
где $\alpha _k$ совпадает с $\alpha$.

Слово $\alpha$ называют ***выводимым в исчислении $\mathcal{C}$***,
если существует вывод этого слово в этом исчислении.
Обозначается: $\vdash _\mathcal{C} \alpha$ (далее просто $\vdash \alpha$, если из контекста очевидно,
какое исчисление рассматривается).

Если слово $\alpha$ не является выводимым в исчислении $\mathcal{C}$, то его называют ***невыводимым в исчислении
$\mathcal{C}$***.
Обозначается: $\not\vdash _\mathcal{C} \alpha$ (далее просто $\not\vdash \alpha$, если из контекста очевидно,
какое исчисление рассматривается).

*Пример построения исчисления*:
> Зададим исчисление $Pal$, в котором будут выводимы все палиндромы из букв $a$, $b$ и только они.
> 
> Пусть $\Sigma \triangleq \{a,b\}$, $L \triangleq \Sigma^*$.
> 
> Палиндромом называется слово $x_1,...,x_n$, где $x_i \in \Sigma$ для каждого $i=1,...,n$
> ($n \in \mathbb{N}\setminus \{1\}$), и для каждого $j=1,...,n$ выполняется $x_j=x_{n+1-j}$.
>
> Аксиомами этого исчисления будут $a, b, aa, bb$.
>
> Правила вывода исчисления $Pal$ ($\gamma$ - любое слово из $L$):
> $$ {\gamma \over a \gamma a} (1),
> \space {\gamma \over b \gamma b} (2).$$
> 
> Таким образом, $\Sigma$ - алфавит исчисления $Pal$, $L$ - язык исчисления $Pal$.
>
> $\blacktriangleright$ Теперь перейдем к доказательству того, что в исчислении выводимы все палиндромы в алфавите
> исчисления и только они.
> 
> 1. Для начала докажем по длине вывода, что если $\vdash _{Pal} \delta$, то $\delta$ - палиндром.
>    + База индукции: если длина вывода $\delta$ равна 1, то $\delta$ - аксиома, значит $\delta$ - палиндром.
>    + Индукционный переход: предположим, что доказываемое утверждение верно для всех слов, кроме последнего, вывода
>      $\alpha _1,...,\alpha _{n-1}, \delta$ ($n \in \mathbb{N} \setminus \{1\}$ - длина вывода $\delta$).
>      Если $\delta$ - аксиома, то см. базу индукции. Если же $\delta$ получено из некоторого
>      $\alpha \in \{\alpha _1,...,\alpha _{n-1}\}$ по правилу исчисления, то (т.к. $\alpha$ - палиндром по 
>      индукционному предположению) $\delta$ так же является палиндромом.
> 
> 2. Теперь докажем, что если $\delta \in L$ - палиндром, то $\vdash _{Pal} \delta$
> с помощью индукции по длине слова:
>    + База индукции: если длина равна 1 или 2, значит если $\delta$ - палиндром, то $\delta$ - одна из аксиом.
>      Поэтому $\vdash _{Pal} \delta$.
>    + Индукционный переход: предположим, что доказываемое утверждение верно для некоторого $\gamma \in L$,
>      причем $k$ - длина $\gamma$, $k < n + 1$, где $n$ - длина слова $\delta$ ($n \in \mathbb{N} \setminus \{1,2\}$)
>      и имеется k-вхождение $\gamma$ в $\delta$. Тогда $\delta$ имеет вид $x \gamma x$, где $x \in \Sigma$, значит
>      $\delta$ выводимо из $\gamma$ по одному из правил исчисления $Pal$. Поэтому $\vdash _{Pal} \delta$.
> 
> Значит для любого $\delta \in L$ верно $\vdash _{Pal} \delta$ тогда и только тогда, когда $\delta$ - палиндром.
> $\blacktriangleleft$
>
> Рассмотрим вывод палиндрома $ababbaba$ в исчислении $Pal$: $bb, abba, babbab, ababbaba$.
>
> Этот же вывод с анализом выглядит так:
> 
> 1. $bb$ (аксиома),
> 2. $abba$ (по правилу 1 из 1),
> 3. $babbab$ (по правилу 2 из 2),
> 4. $ababbaba$ (по правилу 1 из 3).

В дальнейшем будем полезно помимо вывода в исчислении использовать понятие вывода из гипотез в исчислении.

Пусть $\mathcal{C}$ - исчисление в языке $L$, $\Gamma$ - произвольное множество слов $L$.
***Выводом из $\Gamma$ в исчислении $\mathcal{C}$*** называется конечная последовательность слов,
каждое из которых является аксиомой исчисления $\mathcal{C}$, принадлежит $\Gamma$
или получено по некоторому правилу исчисления $\mathcal{C}$ из предшествующих слов этой последовательности.
***Длиной вывода из $\Gamma$*** называется число слов в выводе.

***Вывод слова $\alpha$ из $\Gamma$ в исчислении $\mathcal{C}$*** - вывод $\alpha _1,...,\alpha _k$ в этом исчислении
из $\Gamma$, где $\alpha _k$ совпадает с $\alpha$.

Слово $\alpha$ называют ***выводимым из $\Gamma$ в исчислении $\mathcal{C}$***,
если существует вывод этого слово в этом исчислении из $\Gamma$.
Обозначается: $\Gamma \vdash _\mathcal{C} \alpha$ (далее просто $\Gamma \vdash \alpha$, если из контекста очевидно,
какое исчисление рассматривается).

Если слово $\alpha$ не является выводимым из $\Gamma$ в исчислении $\mathcal{C}$, 
то его называют ***невыводимым из $\Gamma$ в исчислении $\mathcal{C}$***.
Обозначается: $\Gamma \not\vdash _\mathcal{C} \alpha$ (далее просто $\Gamma \not\vdash \alpha$,
если из контекста очевидно, какое исчисление рассматривается).

Пусть $\Delta \triangleq \Gamma \cup \{\gamma\}$, тогда $\Delta \vdash \alpha$ будем записывать как
$\Gamma, \gamma \vdash \alpha$.

Пусть $\Delta \triangleq \{\gamma _1,...,\gamma _n\}$, тогда $\Delta \vdash \alpha$ будем записывать как
$\gamma _1,...,\gamma _n \vdash \alpha$.

## 3.1. Исчисление высказываний гильбертовского типа

Рассматриваемое далее исчисление задумано для вывода любых тавтологий в логике высказываний и только их.

Зададим ***исчисление высказываний гильбертовского типа*** в $PL$ и назовем его $\mathcal{H}$.
Аксиомами $\mathcal{H}$ будет бесконечное множество пропозициональных формул, имеющих вид
($A$, $B$ и $C$ - произвольные формулы):

1. $A \supset (B \supset A)$,
2. $(A \supset (B \supset C)) \supset ((A \supset B) \supset (A \supset C))$,
3. $A \supset (B \supset A \land B)$,
4. $A \land B \supset A$,
5. $A \land B \supset B$,
6. $(A \supset C) \supset ((B \supset C) \supset (A \lor B \supset C))$,
7. $A \supset A \lor B$,
8. $B \supset A \lor B$,
9. $(A \supset B) \supset ((A \supset \neg B) \supset \neg A)$,
10. $\neg\neg A \supset A$,
11. $\textbf{F} \supset A$,
12. $A \supset \textbf{T}$.

Далее, когда имеется в виду, что некоторая формула является аксиомой вида номер $x$ из приведенного выше списка,
будем писать: "из $\mathcal{H}_x$".

Единственным правилом исчисления $\mathcal{H}$ будет (называется ***modus ponens*** далее ***MP***):
$$
A; A \supset B
\over
B
$$

*Пример вывода в исчислении $\mathcal{H}$*:
> Найдем вывод $A \supset A$:
> 
> 1. $A \supset ((A \supset A) \supset A)$ (из $\mathcal{H}_1$);
> 2. $(A \supset ((A \supset A) \supset A)) \supset ((A \supset (A \supset A)) \supset (A \supset A))$ (из $\mathcal{H}_2$);
> 3. $(A \supset (A \supset A)) \supset (A \supset A)$ (по MP из 1 и 2);
> 4. $A \supset (A \supset A)$ (из $\mathcal{H}_1$);
> 5. $A \supset A$ (по MP из 3 и 4).

### 3.1.1. Корректность $\mathcal{H}$

$\blacktriangleright$ **Лемма 5**:
> Все аксиомы $\mathcal{H}$ являются общезначимыми формулами.
>
> **Доказательство**:
> 
> Пусть $X$ - формула, имеющая вид, приведенный выше в списке видов аксиом,
> где $A$, $B$ и $C$ - переменные $p$, $q$ и $r$.
> Очевидно, что существует конечное множество таких формул.
> Тогда несложно по таблице истинности доказать, что $\models X$ для каждого $X$.
>
> Пусть $Y$ - любая формула, имеющая вид, приведенный выше в списке видов аксиом,
> а $Z$ - формула, имеющая такой же вид, причем $A$, $B$ и $C$ в ней - переменные $p$, $q$ и $r$.
> Из первой части доказательства $\models Z$, тогда $\models Y$ по **теореме 2**.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 6** о корректности исчисления $\mathcal{H}$:
> Пусть $\Gamma$ - произвольное множество формул, $A$ - произвольная формула, тогда если $\Gamma \vdash A$,
> то $\Gamma \models A$.
> 
> **Доказательство**:
> 
> 1. Если вывод $A$ имеет длину 1, то $A$ - гипотеза ($A \in \Gamma$, очевидно $\Gamma \models A$)
>    или аксиома (тогда $\models A$ из **леммы 5**, значит $\Gamma \models A$).
> 2. Предположим, что доказываемое утверждение верно для любой формулы, являющейся последней в выводе длиной $k$
>    ($k \in \mathbb{N}$, $k < n$ и $n \in \mathbb{N} \setminus \{1\}$).
> 
>    Рассмотрим вывод $\Gamma \vdash A$ длиной $n$.
> 
>    Если $A$ - аксиома или гипотеза, то см. пункт 1.
> 
>    Иначе $A$ должно быть получено по modus ponens из слов $B \supset A$ и $B$ в выводе $A$.
>    Значит $\Gamma \vdash B \supset A$ и $\Gamma \vdash B$.
>    Следовательно, $\Gamma \models B \supset A$ и $\Gamma \models B$ по индукционному предположению.
>    Поэтому $\Gamma \models A$ (по таблице истинности $\supset$).
>    $\blacktriangleleft$

$\blacktriangleright$ **Следствие 7**:
> Пусть $\Gamma$ - произвольное множество общезначимых формул, $A$ - произвольная формула.
> Тогда если $\Gamma \vdash A$, то $\models A$.

$\blacktriangleright$ **Следствие 7.1**:
> В исчислении $\mathcal{H}$ не существует такой формулы, что $\vdash A$ и $\vdash \neg A$.

$\blacktriangleright$ **Следствие 8**:
> Для любой формулы $A$ если $\vdash A$, то $\models A$.

Таким образом, доказано, что если формула выводима в исчислении $\mathcal{H}$, то она общезначима.
Обратное утверждение будет доказано далее.

### 3.1.2. Допустимые правила

Сформулируем и докажем некоторые правила, которые хоть и не являются правилами $\mathcal{H}$,
тем не менее верны в исчислении.

В этом разделе $\Gamma$ и $\Delta$ - произвольные множества формул, $A$, $B$ и $C$ - произвольные формулы.

$\blacktriangleright$ **Теорема 9** о дедукции:
> $\Gamma, A \vdash B$, если и только если $\Gamma \vdash A \supset B$.
>
> **Доказательство**:
> 
> + Если $\Gamma \vdash A \supset B$, то $\Gamma, A \vdash A \supset B$ и $\Gamma, A \vdash A$ (очевидно).
>   $\Gamma, A \vdash B$ по MP.
> + Теперь докажем обратное.
> 
>   1. Если вывод $\Gamma, A \vdash B$ состоит из одной формулы, то:
>       + если $B$ - аксиома или гипотеза, то $\Gamma \vdash B$
>         и из $\Gamma \vdash B \supset (A \supset B)$ (из $\mathcal{H}_1$) по MP получим $\Gamma \vdash A \supset B$;
>       + если $B$ совпадает с $A$, то $\vdash A \supset A$ (см. пример в 3.1.)
>         и очевидно $\Gamma \vdash A \supset B$.
>   2. Предположим, что доказываемое утверждение верно для вывода длиной $k < n$,
>      где $k \in \mathbb{N}, n \in \mathbb{N} \setminus \{1\}$.
>
>      Рассмотрим вывод $\Gamma, A \vdash B$ длиной $n$. Если случаи из пункта 1 не подходят,
>      то $\Gamma, A \vdash B$ получено по MP из $\Gamma, A \vdash C$ и $\Gamma, A \vdash C \supset B$.
>
>      По индукционному предположению $\Gamma \vdash A \supset C$ и $\Gamma \vdash A \supset (C \supset B)$.
>
>      $\Gamma \vdash (A \supset (C \supset B)) \supset ((A \supset C) \supset (A \supset B))$ из $\mathcal{H}_2$.
>
>      $\Gamma \vdash (A \supset C) \supset (A \supset B)$ по MP, затем $\Gamma \vdash A \supset B$ по MP.
>      $\blacktriangleleft$

$\blacktriangleright$ **Теорема 10** ($\supset$-удаление):
> Если $\Gamma \vdash A$ и $\Gamma \vdash A \supset B$, то $\Gamma \vdash B$.
>
> **Доказательство**:
> 
> Если $\Gamma \vdash A$ и $\Gamma \vdash A \supset B$, то $\Gamma \vdash B$ по MP.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 11** ($\neg$-введение):
> Если $\Gamma, A \vdash B$ и $\Gamma, A \vdash \neg B$, то $\Gamma \vdash \neg A$.
>
> **Доказательство**:
>
> $\Gamma, A \vdash B$ и $\Gamma, A \vdash \neg B$, значит $\Gamma \vdash A \supset B$
> и $\Gamma \vdash A \supset \neg B$ по **теореме 9**.
>
> $\Gamma \vdash (A \supset B) \supset ((A \supset \neg B) \supset \neg A)$ из $\mathcal{H}_9$.
>
> $\Gamma \vdash (A \supset \neg B) \supset \neg A$ по MP, $\Gamma \vdash \neg A$ по MP. 
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 12** ($\neg$-удаление):
> Если $\Gamma \vdash \neg\neg A$ то $\Gamma \vdash A$.
>
> **Доказательство**:
>
> $\Gamma \vdash \neg\neg A \supset A$ из $\mathcal{H}_{10}$.
> $\Gamma \vdash \neg\neg A$, тогда $\Gamma \vdash A$ по MP.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 13** ($\land$-введение):
> Если $\Gamma \vdash A$ и $\Gamma \vdash B$, то $\Gamma \vdash A \land B$.
>
> **Доказательство**:
>
> $\Gamma \vdash A \supset (B \supset A \land B)$ из $\mathcal{H}_3$.
>
> $\Gamma \vdash A$, тогда $\Gamma \vdash B \supset A \land B$ по MP.
>
> $\Gamma \vdash B$, тогда $\Gamma \vdash A \land B$ по MP.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 14** ($\land$-удаление):
> Если $\Gamma \vdash A \land B$, то $\Gamma \vdash A$ (1) и $\Gamma \vdash B$ (2).
>
> **Доказательство**:
>
> Имеем $\Gamma \vdash A \land B$.
> 
> $\Gamma \vdash A \land B \supset A$ из $\mathcal{H}_4$. $\Gamma \vdash A$ по MP.
> $\blacktriangleleft$ (1)
>
> $\Gamma \vdash A \land B \supset B$ из $\mathcal{H}_5$. $\Gamma \vdash B$ по MP.
> $\blacktriangleleft$ (2)

$\blacktriangleright$ **Теорема 15** ($\lor$-введение):
> Если $\Gamma \vdash A$, то $\Gamma \vdash A \lor B$ (1).
> Кроме того, если $\Gamma \vdash B$, то $\Gamma \vdash A \lor B$ (2).
>
> **Доказательство**:
>
> $\Gamma \vdash A \supset A \lor B$ из $\mathcal{H}_7$.
> $\Gamma \vdash A$, то $\Gamma \vdash A \lor B$ по MP.
> $\blacktriangleleft$ (1)
>
> $\Gamma \vdash B \supset A \lor B$ из $\mathcal{H}_8$.
> $\Gamma \vdash B$, то $\Gamma \vdash A \lor B$ по MP.
> $\blacktriangleleft$ (2)

$\blacktriangleright$ **Теорема 16** ($\lor$-удаление):
> Если $\Gamma, A \vdash C$ и $\Gamma, B \vdash C$, то $\Gamma, A \lor B \vdash C$.
>
> **Доказательство**:
>
> Имеем $\Gamma, A \vdash C$ и $\Gamma, B \vdash C$, тогда $\Gamma \vdash A \supset C$
> и $\Gamma \vdash B \supset C$ по MP.
>
> $\Gamma \vdash (A \supset C) \supset ((B \supset C) \supset (A \lor B \supset C))$ из $\mathcal{H}_6$.
> 
> Тогда $\Gamma \vdash (B \supset C) \supset (A \lor B \supset C)$ по MP.
> И тогда $\Gamma \vdash A \lor B \supset C$ по MP.
>
> $\Gamma, A \lor B \vdash C$ по **теореме 9**.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 17** (правило сечения):
> Если $\Gamma \vdash A$ и $\Delta, A \vdash B$, то $\Gamma \cup \Delta \vdash B$.
>
> **Доказательство**:
>
> Если $\Gamma \vdash A$, то $\Gamma \cup \Delta \vdash A$.
>
> Если $\Delta, A \vdash B$, то $\Delta \vdash A \supset B$ по **теореме 9**,
> тогда $\Gamma \cup \Delta \vdash A \supset B$.
>
> По MP получим $\Gamma \cup \Delta \vdash B$.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 18** ($\land$-удаление 2):
> Если $\Gamma, A, B \vdash C$, то $\Gamma, A \land B \vdash C$.
>
> **Доказательство**:
> 
> Имеем $\Gamma, A, B \vdash C$, тогда $\Gamma, A \vdash B \supset C$ по **теореме 9**
> и $\Gamma \vdash A \supset (B \supset C)$ также по **теореме 9**.
> Следовательно, верно и $\Gamma, A \land B \vdash A \supset (B \supset C)$.
>
> Из **теоремы 14**: $\Gamma, A \land B \vdash A$ и $\Gamma, A \land B \vdash B$.
>
> Тогда $\Gamma, A \land B \vdash B \supset C$ по MP, и далее $\Gamma, A \land B \vdash C$ также по MP.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 19** ($\lor$-удаление 2):
> Если $\Gamma \vdash A \lor B$ и $\Gamma, A \vdash C$ и $\Gamma, B \vdash C$, то $\Gamma \vdash C$.
>
> **Доказательство**:
>
> Имеем $\Gamma, A \vdash C$ и $\Gamma, B \vdash C$.
> Тогда $\Gamma, A \lor B \vdash C$ по **теореме 16**.
>
> Значит $\Gamma \vdash C$ по MP, т.к. $\Gamma \vdash A \lor B$.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 20** ($\equiv$-введение):
> Если $\Gamma, A \vdash B$ и $\Gamma, B \vdash A$ то $\Gamma \vdash A \equiv B$.
>
> **Доказательство**:
>
> Из $\Gamma, A \vdash B$ и $\Gamma, B \vdash A$ получим $\Gamma \vdash A \supset B$
> и $\Gamma \vdash B \supset A$ по **теореме 9**.
>
> Тогда $\Gamma \vdash (A \supset B) \land (B \supset A)$ по **теореме 13**
> и $\Gamma \vdash A \equiv B$ по определению эквивалентности.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 21** ($\equiv$-удаление):
> Если $\Gamma \vdash A \equiv B$, то $\Gamma, A \vdash B$ и $\Gamma, B \vdash A$
>
> **Доказательство**:
>
> Имеем $\Gamma \vdash (A \supset B) \land (B \supset A)$ из определения эквивалентности.
>
> Значит $\Gamma \vdash A \supset B$ и $\Gamma \vdash B \supset A$ по **теореме 14**.
>
> Тогда $\Gamma, A \vdash B$ и $\Gamma, B \vdash A$ по **теореме 9**.
> $\blacktriangleleft$

Доказательство выводимости некоторых логических законов, приведенных в разделе 2.2,
с помощью доказанных в этом разделе теорем изложено в `a1.md`.

### 3.1.3. Полнота исчисления $\mathcal{H}$

Множество формул $\Gamma$ - ***непротиворечиво***, если не найдётся формулы $A$ такой,
что $\Gamma \vdash A$ и $\Gamma \vdash \neg A$.

Множество формул $\Gamma$ - ***противоречиво***, если оно не является непротиворечивым.

Множество формул $\Gamma$ - ***полно***, если для любой формулы $A$ верно $\Gamma \vdash A$
или $\Gamma \vdash \neg A$.

Множество формул $\Gamma$ - ***неполно***, если оно не является полным.

Интерпретацию языка $PL$, в которой истинны все формулы некоторого произвольного множества называют
***моделью*** этого множества. Если множество имеет модель, то говорят, что множество ***совместно***.

$\blacktriangleright$ **Теорема 22**:
> Всякое множество формул $\Gamma$, имеющее модель $M$ непротиворечиво.
>
> **Доказательство**:
>
> Предположим, что $\Gamma$ противоречиво, тогда верно $\Gamma \vdash A$ и $\Gamma \vdash \neg A$
> для некоторой формулы $A$ по определению противоречивого множества.
>
> Тогда верно $\Gamma \models A$ и $\Gamma \models \neg A$ по **теореме 6**.
>
> Т.к. $M$ - модель $\Gamma$, то $M \models A$ и $M \models \neg A$ (т.е. $M \not\models A$),
> что невозможно, значит предположение неверно.
>
> $\Gamma$ - непротиворечиво.
> $\blacktriangleleft$

$\blacktriangleright$ **Лемма 23**:
> Пусть $\Gamma$ - непротиворечивое множество формул, $A$ - произвольная формула,
> тогда хотя бы одно из множеств $\Gamma \cup \{A\}$ и $\Gamma \cup \{\neg A\}$ непротиворечиво.
>
> **Доказательство**:
>
> Предположим, что $\Gamma \cup \{A\}$ и $\Gamma \cup \{\neg A\}$ - противоречивы.
> Тогда найдутся такие формулы $B$ и $C$, что $\Gamma, A \vdash B$; $\Gamma, A \vdash \neg B$;
> $\Gamma, \neg A \vdash C$ и $\Gamma, \neg C \vdash \neg C$.
>
> Тогда $\Gamma \vdash \neg A$ и $\Gamma \vdash \neg\neg A$ по **теореме 11**.
> Из второго получим $\Gamma \vdash A$ по **теореме 12**, значит $\Gamma$ - противоречиво по определению.
>
> Предположение неверно,
> поэтому хотя бы одно из множеств $\Gamma \cup \{A\}$ и $\Gamma \cup \{\neg A\}$ непротиворечиво.
> $\blacktriangleleft$

$\blacktriangleright$ **Лемма 24** Линденбаума:
> Всякое непротиворечивое множество формула $\Gamma$ содержится в некотором непротиворечивом
> полном множестве формул.
>
> **Доказательство**:
>
> Пусть $A_1,...,A_n$ - все формулы языка $PL$, перечисленные в некотором порядке.
>
> Пусть $\Delta_0 \triangleq \Gamma$.
>
> Пусть $i \in \mathbb{N}$.
>
> Если $\Delta_{i-1} \cup \{A\}$ непротиворечиво, то пусть $\Delta_i \triangleq \Delta_{i-1} \cup \{A\}$.
> Иначе $\Delta{i-1} \cup \{\neg A\}$ должно быть непротиворечиво (по **лемме 23**),
> тогда пусть $\Delta_i \triangleq \Delta_{i-1} \cup \{\neg A\}$.
>
> Таким образом, $\Delta_i$ для любого $i \in \mathbb{N}$ непротиворечиво по построению.
>
> Пусть $\Delta \triangleq \bigcup_{i \in \mathbb{N}} \Delta_i$.
> $\Delta$ содержит $\Gamma$, и для всякой формулы $A$ верно $A \in \Delta$ либо $\neg A \in \Delta$.
> Значит $\Delta$ полно.
>
> Предположим, что $\Delta$ противоречиво.
> Тогда найдётся такая формула $A$, для которой верно $\Delta \vdash A$ и $\Delta \vdash \neg A$.
> Значит найдётся и такое $j \in \mathbb{N}$, при котором $\Delta_j \vdash A$ и $\Delta_j \vdash \neg A$,
> потому $\Delta_j$ противоречиво, что противоречит определению $\Delta_j$, поэтому предположение неверно.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 25**:
> Всякое непротиворечивое множество формул $\Gamma$ имеет модель $M$.
>
> **Доказательство**:
>
> Существует полное непротиворечивое множество $\Delta$ такое, что $\Gamma \subset \Delta$ **по лемме 24**.
>
> Определим искомую модель $M$: если $\Delta \vdash p$, то $M(p) = 1$,
> иначе если $\Delta \vdash \neg p$, то $M(p) = 0$, где $p$ - произвольная переменная.
> Другие случаи невозможны, т.к. $\Delta$ - полно и непротиворечиво.
>
> Теперь докажем, что для любой формулы $A$ верно $M \models A$ тогда и только тогда, когда $\Delta \vdash A$.
>
> 1. База индукции:
>    + если $A$ - переменная, то по определению $M$ при $\Delta \vdash A$ верно $M \models A$,
>      а при $\Delta \vdash \neg A$ (то же, что и $\Delta \not\vdash A$) верно $M \not\models A$;
>    + если $A$ - истинностная константа $\textbf{T}$, то $\Delta \vdash \textbf{T}$
>      (по $\mathcal{H}_{12}$ с произвольной выводимой формулой и MP),
>      если и только если $M \models A$ по определению $|A|_M$;
>    + если $A$ - истинностная константа $\textbf{F}$, то $\Delta \not\vdash \textbf{F}$
>      (иначе из $\Delta$ по MP из $\mathcal{H}_{11}$ и $\Delta \vdash \textbf{F}$ выводима любая формула,
>      и $\Delta$ было бы противоречиво), если и только если  $M \models A$ по определению $|A|_M$.
> 2. Индукционный переход: предположим, что доказываемое утверждение верно для формул $B$ и $C$, тогда.
>    + Если $A$ имеет вид $\neg B$, то $M \models A$ тогда и только тогда, когда $M \not\models B$,
>      что равносильно $\Delta \not\vdash B$ по индукционному предположению. Т.к. $\Delta$ непротиворечиво и полно,
>      то $\Delta \not\vdash B$ равносильно $\Delta \vdash \neg B$ (то же, что и $\Delta \vdash A$).
>    + Если $A$ имеет вид $A \land B$, то $M \models A$ тогда и только тогда, когда $M \models B$ и $M \models C$,
>      что равносильно $\Delta \vdash B$ и $\Delta \vdash C$ по индукционному предположению.
>      Из этого получим $\Delta \vdash B \land C$ по **теореме 13**.
>    + Если $A$ имеет вид $A \lor B$, то $M \models A$ тогда и только тогда, когда одно из $M \models B$
>      и $M \models C$ верно. Первое равносильно $\Delta \vdash B$ по индукционному предположению,
>      из чего получим $\Delta \vdash B \lor C$ по **теореме 15**. Аналогично для второго.
>    + Если $A$ имеет вид $B \supset C$, то необходимо рассмотреть все случаи,
>      когда $M \models A$ (доказательство каждого из этих случаев аналогично доказательствам, приведённым выше).
>
> Т.к. $M$ - модель $\Delta$ и $\Gamma \subset \Delta$, то $M$ также является моделью $\Gamma$.
> $\blacktriangleleft$


$\blacktriangleright$ **Теорема 26** обобщенная о полноте исчисления $\mathcal{H}$:
> Пусть $\Gamma$ - произвольное множество формул, $A$ - произвольная формула.
> Тогда если $\Gamma \models A$, то $\Gamma \vdash A$.
>
> **Доказательство**:
>
> Имеем $\Gamma \models A$. Очевидно, что $\Gamma \cup \{\neg A\}$ не имеет модели.
> Тогда $\Gamma$ - противоречиво **по теореме 25**.
>
> Найдётся формула $B$ такая, что $\Gamma, \neg A \vdash B$ и $\Gamma, \neg A \vdash \neg B$
> по определению противоречивого множества.
>
> Значит $\Gamma \vdash \neg\neg A$ по **теореме 11**.
> Из этого получим $\Gamma \vdash A$ по **теореме 12**.
> $\blacktriangleleft$

$\blacktriangleright$ **Следствие 27** о полноте исчисления $\mathcal{H}$:
> Пусть $A$ - произвольная формула.
> Тогда если $\models A$, то $\vdash A$.

Таким образом, в исчислении $\mathcal{H}$ выводимы все общезначимые формулы (из **следствия 27**)
и только они (из **следствия 8**).

## 3.2. Секвенциальное исчисление высказываний
***Контрпример для формулы $A$*** - такая интерпретация $M$, что $M \not\models A$.

Очевидно, что формула является общезначимой, если для неё не существует контрпримера.

***Секвенцией*** называется слово вида $A_1,...,A_m \rightarrow B_1,...,B_n$,
где $A_1,...,A_m,B_1,...B_n$ - формулы, $n, m \in \mathbb{N}_0$.
Список формул $A_1,...,A_m$ - ***антецедент этой секвенции*** (пуст при $m = 0$).
Список формул $B_1,...,B_m$ - ***сукцедент этой секвенции*** (пуст при $n = 0$).
Каждая формула $A_i$ ($i = 1,...,m$) - ***член антецедента***.
Каждая формула $B_j$ ($j = 1,...,n$) - ***член сукцедента***.
Каждый член антецедента и сукцедента - ***член секвенции***.

***Контрпример для секвенции $S$*** - интерпретация $M$, в которой истинны все члены антецедента $S$
и ложны все члены сукцедента $S$.

Для секвенции $S \triangleq A_1,...,A_m \rightarrow B_1,...,B_n$ определим формулу $\Phi(S)$
(называемую ***представлением секвенции $S$ в виде формулы*** или ***формульным образом секвенции $S$***) так,
что для любой интерпретации $M$ верно: $M$ является контрпримером для $S$ тогда и только тогда,
когда $M$ - контрпример для $\Phi(S)$. Тогда:

+ при $m, n > 0$: $\Phi(S) \triangleq A_1 \land ... \land A_m \supset B_1 \lor ... \lor B_n$;
+ при $m = 0, n > 0$: $\Phi(S) \triangleq \textbf{T} \supset B_1 \lor ... \lor B_n$;
+ при $m > 0, n = 0$: $\Phi(S) \triangleq A_1 \land ... \land A_m \supset \textbf{F}$;
+ при $m = 0, n = 0$: $\Phi(S) \triangleq \textbf{T} \supset \textbf{F}$;

Секвенция $S$ - ***общезначима***, если $\Phi(S)$ общезначима. Очевидно, что для общезначимой секвенции
не существует контрпримера.

Построим исчисление, называемое ***исчислением высказываний генценовского типа***
(***секвенциальное исчисление высказываний***), которое, в отличии от $\mathcal{H}$ позволяет целенаправленно
искать вывод заданной формулы, и назовем его $\mathcal{G}$.

Языком исчисления $\mathcal{G}$ будет бесконечное множество всех возможных секвенций.

Далее в этом разделе будем обозначать за $\Gamma$ и $\Delta$ произвольные списки формул,
а за $A$ и $B$ - произвольные формулы.
Кроме того, условимся, что порядок записи членов сукцедента и антецедента не имеет значения.

Аксиомами исчисления $\mathcal{G}$ будет бесконечное множество секвенций вида:

1. $\Gamma, A \rightarrow \Delta, A$;
2. $\Gamma, \textbf{F} \rightarrow \Delta$;
3. $\Gamma \rightarrow \Delta, \textbf{T}$.

Правилами вывода исчисления $\mathcal{G}$ будут:

$$
{\Gamma \rightarrow \Delta,A \over \Gamma, \neg A \rightarrow \Delta}
(\neg\rightarrow),
$$

$$
{\Gamma,A \rightarrow \Delta \over \Gamma \rightarrow \Delta,\neg A}
(\rightarrow\neg),
$$

$$
{\Gamma,A,B \rightarrow \Delta \over \Gamma,A \land B \rightarrow \Delta}
(\land\rightarrow),
$$

$$
{\Gamma \rightarrow \Delta,A; \Gamma \rightarrow \Delta,B \over \Gamma \rightarrow \Delta,A \land B}
(\rightarrow\land),
$$

$$
{\Gamma,A \rightarrow \Delta; \Gamma,B \rightarrow \Delta \over \Gamma,A \lor B \rightarrow \Delta}
(\lor\rightarrow),
$$

$$
{\Gamma \rightarrow \Delta,A,B \over \Gamma \rightarrow \Delta,A \land B}
(\rightarrow\lor),
$$

$$
{\Gamma \rightarrow \Delta,A; \Gamma,B \rightarrow \Delta \over \Gamma,A \supset B \rightarrow \Delta}
(\supset\rightarrow),
$$

$$
{\Gamma,A \rightarrow \Delta,B \over \Gamma \rightarrow \Delta,A \supset B}
(\rightarrow\supset).
$$

***Вывод формулы $A$ в исчислении $\mathcal{G}$*** - вывод секвенции $\rightarrow A$.

Формула $A$ - ***выводима в исчислении $\mathcal{G}$***, если существует вывод секвенции $\rightarrow A$.

Вывод заданной секвенции удобно искать переходя от заключений правил к посылкам.
Такой подход и возможность однозначно установить правило по заключению позволяет реализовать
алгоритм поиска вывода секвенции.
Пример такой реализации приведён в `seq.py`, выводы некоторых логических законов,
сгенерированных этим алгоритмом, можно найти в `a2.md`.

Дерево с конечным числом узлов, каждый из которых является секвенцией, называется
***деревом поиска вывод секвенции $S$***, если корень этого дерева - $S$,
и для каждого внутреннего узла $S'$ этого дерева сыновними узлами являются посылки,
из которых по некоторому правилу получено $S'$.

Если все листья дерева поиска вывода секвенции $S$ - аксиомы, то это дерево - ***дерево вывода секвенции $S$***.

$\blacktriangleright$ **Лемма 28**:
> Каждая аксиома исчисления $\mathcal{G}$ общезначима.
>
> **Доказательство**:
>
> Пусть $\Gamma$ и $\Delta$ - произвольные списки формул, а $A$ - произвольная формула.
>
> Далее в каждом пункте изначально предполагается, что существует контрпример $M$ для аксиом рассматриваемого вида
>
> 1. Пусть $S \triangleq \Gamma, A \rightarrow \Delta, A$ (вид 1).
> 
>    Среди условий того, что $M$ - контрпример для $S$ есть противоречие:
>    $M \models A$ и $M \not\models A$ одновременно.
> 2. Пусть $S \triangleq \Gamma, \textbf{F} \rightarrow \Delta$ (вид 2).
> 
>    $M \models \textbf{F}$ (неверно) - одно из условий того, что $M$ - контрпример для $S$.
> 3. Пусть $S \triangleq \Gamma \rightarrow \Delta, \textbf{T}$ (вид 3).
> 
>    $M \not\models \textbf{T}$ (неверно) - одно из условий того, что $M$ - контрпример для $S$.
>
> В каждом из случаев предположение неверно, значит каждая аксиома $\mathcal{G}$ общезначима.
> $\blacktriangleleft$

$\blacktriangleright$ **Лемма 29**:
> Заключение правила $\mathcal{G}$ общезначимо тогда и только тогда, когда общезначимы все посылки этого правила.
>
> **Доказательство**:
>
> Пусть $\Gamma$ и $\Delta$ - произвольные списки правил.
>
> Пусть $A$ - произвольная формула.
>
> Рассмотрим посылку и заключение правила $\neg\rightarrow$:
> 
> + Некоторая интерпретация $M$ - контрпример для секвенции $\Gamma \rightarrow \Delta, A$,
>   если и только если верно всё из:
>     + $M \not\models A$,
>     + для каждого $G \in \Gamma$ верно $M \models G$,
>     + для каждого $D \in \Delta$ верно $M \not\models D$.
> + Некоторая интерпретация $M$ - контрпример для секвенции $\Gamma, \neg A \rightarrow \Delta$,
>   если и только если верно всё из:
>     + $M \not\models A$,
>     + для каждого $G \in \Gamma$ верно $M \models G$,
>     + для каждого $D \in \Delta$ верно $M \not\models D$.
>
> Таким образом, если интерпретация $M$ - контрпример для посылки, то это контрпример и для заключения, и наоборот.
>
> Значит $\Gamma, \neg A \rightarrow \Delta$ общезначимо тогда и только тогда,
> когда $\Gamma \rightarrow \Delta, A$ общезначимо.
>
> Аналогично доказывается и остальных правил.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 30** о корректности исчисления $\mathcal{G}$:
> Любая выводимая секвенция $S$ в исчисления $\mathcal{G}$ общезначима.
> 
> **Доказательство**:
>
> 1. База индукции: если длина вывода $S$ равна 1, то $S$ - аксиома. Значит $S$ общезначима по **лемме 28**.
> 2. Индукционный переход: длина вывода $S$ равна $n > 1$.
>    Предположим, что доказываемое утверждение верно для любой последней секвенции в выводе длиной $1 < k < n$.
>    $S$ - аксиома (тогда см. пункт 1) или получено правилу вывода из одной или двух предшествующих в выводе секвенций.
>    По индукционному предположению эти секвенции общезначимы, тогда по **лемме 29** $S$ общезначимо.
> $\blacktriangleleft$

$\blacktriangleright$ **Следствие 31**:
> Любая выводимая в исчислении $\mathcal{G}$ формула общезначима.

$\blacktriangleright$ **Следствие 32** о непротиворечивости исчисления $\mathcal{G}$:
> Не существует формулы $A$ такой, для которой $A$ выводимо и $\neg A$ выводимо в исчислении $\mathcal{G}$.

$\blacktriangleright$ **Лемма 33**:
> Пусть $S$ - секвенция, ни в какой член которой не входит ни одна логическая связка.
> Тогда если $S$ общезначима, то $S$ - аксиома.
>
> **Доказательство**:
>
> Предположим, что $S$ - не аксиома.
> Тогда все члены $S$ - переменные или истинностные константы.
> Причём каждая переменная антецедента отлична от любой переменной сукцедента
> (иначе $S$ была бы аксиомой вида 1).
>
> Пусть $\Gamma$ и $\Delta$ - произвольные списки переменные, $\textbf{T}$ или $\textbf{F}$,
> причём $\Gamma \cap \Delta = \varnothing$.
> 
> Рассмотрим возможные виды $S$:
> 
> + $\Gamma, \textbf{T} \rightarrow \Delta$,
> + $\Gamma \rightarrow \Delta, \textbf{F}$,
> + $\Gamma \rightarrow \Delta$.
>
> Для любой секвенции таких видов интерпретация $M$,
> в которой $M \models p$ для каждой переменной $p \in \Gamma$
> и $M \not\models q$ для каждой переменной $q \in \Delta$, будет контрпримером.
> Всякие $p$ и $q$ - различные переменные, значит такая интерпретация $M$ существует.
>
> Поэтому $S$ необщезначима, значит предположение неверно.
> $\blacktriangleleft$

$\blacktriangleright$ **Теорема 34** о полноте исчисления $\mathcal{G}$:
> Если $S$ - общезначимая секвенция, то $S$ выводимо в исчислении $\mathcal{G}$.
>
> **Доказательство**:
>
> Построим дерево поиска вывода секвенции $S$ такое, в котором ни один лист не содержит члена с логической связкой.
>
> Если любой внутренний узел $S'$ дерева общезначим, то и узлы, из которых по некоторому правилу получено $S'$,
> общезначимы по **лемме 29**. Значит каждый узел общезначим.
>
> Тогда все листья - аксиомы **по лемме 33**.
>
> Значит построенное дерево - дерево вывода секвенции $S$. Таким образом, $S$ выводима.
> $\blacktriangleleft$

$\blacktriangleright$ **Следствие 35**:
> Любая общезначимая формула выводима в исчислении $\mathcal{G}$.